"use strict";(self["webpackChunkvue2_element_admin"]=self["webpackChunkvue2_element_admin"]||[]).push([[44],{8044:function(e,t,a){a.r(t),a.d(t,{default:function(){return h}});var i=function(){var e=this,t=e._self._c;return t("main-panel",{attrs:{loading:e.isPageLoading}},[t("div",{staticClass:"pb-15"},[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleOperateRow("add")}}},[e._v(" 添加数据 ")])],1),t("div",{staticClass:"table-wrapper"},[t("el-table",{attrs:{data:e.tableData,border:""}},[t("el-table-column",{attrs:{prop:"id",label:"ID","min-width":"120","show-overflow-tooltip":"",align:"center"}}),t("el-table-column",{attrs:{prop:"name",label:"姓名","min-width":"120","show-overflow-tooltip":"",align:"center"}}),t("el-table-column",{attrs:{prop:"age",label:"年龄","min-width":"120","show-overflow-tooltip":"",align:"center"}}),t("el-table-column",{attrs:{prop:"address",label:"地址","min-width":"120","show-overflow-tooltip":"",align:"center"}}),t("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){let{row:i}=a;return[t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handleDialogShow(i)}}},[e._v("查看详情")]),t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handleOperateRow("edit",i)}}},[e._v("编辑")])]}}])})],1)],1),t("div",{staticClass:"pagination-wrapper"},[t("el-pagination",{attrs:{"current-page":e.pagination.current,"page-size":e.pagination.size,total:e.pagination.total,"page-sizes":[10,20,50,100,200,300],layout:"total, sizes, prev, pager, next, jumper",background:"","hide-on-single-page":""},on:{"update:currentPage":function(t){return e.$set(e.pagination,"current",t)},"update:current-page":function(t){return e.$set(e.pagination,"current",t)},"update:pageSize":function(t){return e.$set(e.pagination,"size",t)},"update:page-size":function(t){return e.$set(e.pagination,"size",t)},"current-change":e.handlePageChange,"size-change":e.handlePageSizeChange}})],1),t("my-dialog",{attrs:{title:"详情","cancel-text":"关闭","show-confirm":!1},model:{value:e.isDetailShow,callback:function(t){e.isDetailShow=t},expression:"isDetailShow"}},e._l(e.rowDetail,(function(a,i){return t("p",{key:i},[e._v(e._s(a))])})),0),t("my-dialog",{attrs:{visible:e.isDialogShow,width:"500px",title:e.operateObj.title},on:{"update:visible":function(t){e.isDialogShow=t},confirm:e.onConfirm}},[t("el-form",{ref:"exampleFormRef",attrs:{model:e.exampleInfo,autocomplete:"off","label-width":"100px"}},[t("el-form-item",{attrs:{label:"数据1",prop:"data1",rules:[{required:!0,message:"请输入数据1"}]}},[t("el-input",{attrs:{placeholder:"请输入数据1"},model:{value:e.exampleInfo.data1,callback:function(t){e.$set(e.exampleInfo,"data1",t)},expression:"exampleInfo.data1"}})],1),t("el-form-item",{attrs:{label:"数据2",prop:"data2",rules:[{required:!0,message:"请输入数据2"}]}},[t("el-input",{attrs:{placeholder:"请输入数据2"},model:{value:e.exampleInfo.data2,callback:function(t){e.$set(e.exampleInfo,"data2",t)},expression:"exampleInfo.data2"}})],1)],1)],1)],1)},n=[],o=(a(4780),a(7528));const l=e=>{if(!e)return;const t=e=>Object.prototype.toString.call(e).slice(8,-1);for(const a in e){const i=e[a];Array.isArray(i)?e[a]=[]:"Object"===t(i)?e[a]={}:"Boolean"===t(i)?e[a]=!1:"Number"===t(i)?e[a]=0:e[a]=""}},s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const a in e)e[a]=t[a]};var r={data(){return{isPageLoading:!1,tableData:[],pagination:{total:0,current:1,size:10},exampleInfo:{data1:"",data2:""},operateObj:{title:"",method:"",row:{},add:"新增",edit:"修改"},isDialogShow:!1,isBtnLoading:!1,isDetailShow:!1,rowDetail:{}}},watch:{"operateObj.method"(e){this.operateObj.title=this.operateObj[e]}},created(){this.getExampleTableList()},methods:{async getExampleTableList(){this.isPageLoading=!0;const{current:e,size:t}=this.pagination,a={current:e,size:t};try{const e=await(0,o.Bc)(a),{list:t,...i}=e.data;this.tableData=t,this.pagination.current=i.current,this.pagination.size=i.size,this.pagination.total=i.total,this.isPageLoading=!1}catch(i){this.isPageLoading=!1}},handlePageChange(e){this.pagination.current=e,this.getExampleTableList()},handlePageSizeChange(e){this.pagination.current=1,this.pagination.size=e,this.getExampleTableList()},handleOperateRow(e,t){l(this.exampleInfo),this.operateObj.method=e,this.isDialogShow=!0,this.$nextTick((()=>{var a;null===(a=this.$refs.exampleFormRef)||void 0===a||a.resetFields(),"edit"===e&&(s(this.exampleInfo,t),this.operateObj.row=t)}))},async addExampleInfo(){const e=await(0,o.SK)(this.exampleInfo);null!==e&&void 0!==e&&e.data&&this.$message.success("新增数据成功")},async deleteExampleInfo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.$confirm("警告",`确认要删除ID为${e.id}的数据吗`,{}).then((async()=>{const t=await(0,o._k)(e.id);null!==t&&void 0!==t&&t.data&&this.$message.success("删除数据成功")}))},handleDialogShow(e){this.isDetailShow=!0,this.rowDetail=e},async onConfirm(){await this.$refs.exampleFormRef.validateFields();this.isBtnLoading=!0;try{this.operateObj.row.id?await(0,o.JL)():await(0,o.SK)(),this.isBtnLoading=!1,this.isDialogShow=!1}catch(e){this.isBtnLoading=!1}}}},p=r,c=a(1001),d=(0,c.Z)(p,i,n,!1,null,"48fe63ab",null),h=d.exports}}]);
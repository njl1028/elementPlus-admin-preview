"use strict";(self["webpackChunkvue2_ant_admin"]=self["webpackChunkvue2_ant_admin"]||[]).push([[808],{41589:function(a,e,t){t.r(e),t.d(e,{default:function(){return b}});var i=function(){var a=this,e=a._self._c;return e("main-panel",{staticClass:"template-container",attrs:{loading:a.isPageLoading}},[e("div",{staticClass:"pb-15"},[e("a-button",{attrs:{type:"primary"},on:{click:a.queryTableData}},[a._v(" 搜索 ")])],1),e("div",{staticClass:"table-wrapper"},[e("a-table",{attrs:{size:"small",columns:a.columns,"data-source":a.tableData.list,"row-key":a=>a.key,pagination:!1,bordered:!0,scroll:{x:!0},"row-class-name":()=>"text-center"},scopedSlots:a._u([{key:"op",fn:function(t,i){return[e("a-button",{attrs:{type:"link"},on:{click:function(e){return a.handleDialogShow(i)}}},[a._v("查看详情")])]}}])}),a.tableData.total?e("div",{staticClass:"pagination-wrapper"},[e("a-pagination",{attrs:{"page-size":a.tableData.pageSize,total:a.tableData.total,"show-size-changer":"","show-total":a=>`总共 ${a} 条数据`},on:{"update:pageSize":function(e){return a.$set(a.tableData,"pageSize",e)},"update:page-size":function(e){return a.$set(a.tableData,"pageSize",e)},change:a.handlePageChange,showSizeChange:a.handlePageSizeChange},model:{value:a.tableData.page,callback:function(e){a.$set(a.tableData,"page",e)},expression:"tableData.page"}})],1):a._e()],1),e("my-drawer",{attrs:{visible:a.isDialogShow,"get-container":".template-container",title:"弹层"},on:{"update:visible":function(e){a.isDialogShow=e},onConfirm:a.onConfirm,onCancel:a.onCancel}},a._l(a.rowDetail,(function(t,i){return e("p",{key:i},[a._v(a._s(t))])})),0)],1)},n=[],s=t(58788),l=t(5809),o=t(41420),r=(t(28191),t(48021));t(45896),t(13237);const g=["list"],p=["list"];var d={name:"ExamplePage",components:{MainPanel:o.A,MyDrawer:r.A},data(){return{isPageLoading:[],columns:[{title:"姓名",key:"name",dataIndex:"name",width:"20%"},{title:"年龄",key:"age",dataIndex:"age",width:"20%"},{title:"地址",key:"address",dataIndex:"address",ellipsis:!0},{title:"操作",key:"op",dataIndex:"op",width:"200",scopedSlots:{customRender:"op"}}],tableData:{list:[],total:0,page:1,pageSize:10},isDialogShow:!1,rowDetail:{}}},created(){this.setColumnCenter(),this.queryTableData()},methods:{setColumnCenter(){this.columns.forEach((a=>{a.align="center",a.ellipsis=!0}))},getTableResult(){return{list:[{key:"1",name:"John Brown",age:32,address:"New York No. 1 Lake Park, New York No. 1 Lake Park"},{key:"2",name:"Jim Green",age:42,address:"London No. 2 Lake Park, London No. 2 Lake Park"},{key:"3",name:"Joe Black",age:32,address:"Sidney No. 1 Lake Park, Sidney No. 1 Lake Park"}],total:400,pageSize:10,page:2}},handlePageChange(a){this.tableData.paeg=a,this.queryTableData()},handlePageSizeChange(a,e){this.tableData.paeg=1,this.tableData.pageSize=e,this.queryTableData()},queryTableData(){this.isPageLoading=!0,setTimeout((()=>{const a=this.getTableResult(),{list:e}=a,t=(0,l.A)(a,g),{total:i,page:n,pageSize:s}=t;this.tableData={list:e,total:i,page:n,pageSize:s},this.isPageLoading=!1}),1500)},async getTableList(){this.isPageLoading=!0;const{page:a,pageSize:e}=this.tableData,t={page:a,pageSize:e},i=this.getTableResult(t);if(i){const{list:a}=i,e=(0,l.A)(i,p),{page:t,pageSize:n,total:o}=e;this.tableData=(0,s.A)((0,s.A)({},this.tableData),{},{list:a,page:t,pageSize:n,total:o})}this.isPageLoading=!1},handleDialogShow(a){this.isDialogShow=!0,this.rowDetail=a},onConfirm(){},onCancel(){}}},c=d,h=t(81656),u=(0,h.A)(c,i,n,!1,null,"18adabc5",null),b=u.exports}}]);
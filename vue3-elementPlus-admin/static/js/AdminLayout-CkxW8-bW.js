import{_ as e,u as n,s as l,a as t,b as a,c as s,d as o,e as u,f as c}from"./index-D8UJi4x3.js";import{o as i,J as d,L as r,R as m,x as p,S as f,T as v,U as h,V as A,y,q as x,a as I,c as g,w as M,b as k,W as b,X as w,Y as C,Z as _,d as j,_ as R,$ as S,K as O,r as F,a0 as E,a1 as T,a2 as N,a3 as q,a4 as P,n as U,g as V,a5 as W,a6 as z,a7 as B,a8 as Y,a9 as H}from"./element-plus-DF9tb4vq.js";import{m as K,d as L,e as J,f as Q,a as G}from"./index-B8qrbVBv.js";const Z={class:"header-left"},D=["src"],X=y({name:"AsideHeader"}),$=e(Object.assign(X,{setup(e){const t=n(),{systemLogo:a,systemName:s,collapsed:o}=l(t);return(e,n)=>(i(),d("div",Z,[r("img",{class:m(["logo",[p(o)?"is-collapsed":"mr-10"]]),src:p(a)},null,10,D),p(o)?A("",!0):(i(),d(f,{key:0},[v(h(p(s)),1)],64))]))}}),[["__scopeId","data-v-f2b99cd8"]]),ee={key:5},ne=["title"],le={key:5},te=y({name:"AsideSubMenu"}),ae=Object.assign(te,{props:{menu:{type:Object,default:()=>({})},teleported:{type:Boolean,default:!0}},setup(e){const l=n(),a=x((()=>l.collapsed)),s=e=>e.slice(0,1)+"...";return(n,l)=>{var o,u,c,m;const v=w,y=I("font-icon"),x=t,j=I("iconify-icon-online"),R=I("iconify-icon-offline"),S=C,O=_;return(null==(u=null==(o=e.menu)?void 0:o.children)?void 0:u.length)&&!(null==(c=e.menu)?void 0:c.meta.hidden)?(i(),g(S,{key:0,index:e.menu.path,teleported:e.teleported,"popper-class":"popper-sub-menu"},{title:M((()=>{var n,l,t;return[e.menu.hiddenIcon||e.menu.icon?!e.menu.hiddenIcon&&(null==(n=e.menu.icon)?void 0:n.startsWith("if-"))?(i(),g(y,{key:1,icon:e.menu.icon.split(/^if-/)[1],class:"el-icon"},null,8,["icon"])):!e.menu.hiddenIcon&&(null==(l=e.menu.icon)?void 0:l.startsWith("svg-"))?(i(),g(x,{key:2,icon:e.menu.icon.split(/^svg-/)[1],class:"!w-6 !h-[16px] !mr-[5px]"},null,8,["icon"])):!e.menu.hiddenIcon&&(null==(t=e.menu.icon)?void 0:t.startsWith("on-"))?(i(),g(j,{key:3,icon:e.menu.icon.split(/^on-/)[1],class:"w-6 h-[16px] !mr-[5px]"},null,8,["icon"])):e.menu.hiddenIcon?A("",!0):(i(),g(R,{key:4,icon:e.menu.icon,class:"w-6 h-[16px] !mr-[5px]"},null,8,["icon"])):(i(),g(v,{key:0},{default:M((()=>[k(p(K))])),_:1})),!p(a)||p(a)&&e.menu.parentPath?(i(),d("span",ee,h(e.menu.title),1)):p(a)&&e.menu.hiddenIcon?(i(),d("div",{key:6,title:e.menu.title},h(s(e.menu.title)),9,ne)):A("",!0)]})),default:M((()=>[(i(!0),d(f,null,b(e.menu.children,((n,l)=>(i(),g(p(ae),{key:l,menu:n,teleported:e.teleported},null,8,["menu","teleported"])))),128))])),_:1},8,["index","teleported"])):(null==(m=e.menu)?void 0:m.meta.hidden)?A("",!0):(i(),g(O,{key:1,index:e.menu.path,route:e.menu},{title:M((()=>[r("span",null,h(e.menu.title),1)])),default:M((()=>{var n,l,t;return[e.menu.hiddenIcon||e.menu.icon?!e.menu.hiddenIcon&&(null==(n=e.menu.icon)?void 0:n.startsWith("if-"))?(i(),g(y,{key:1,icon:e.menu.icon.split(/^if-/)[1],class:"el-icon"},null,8,["icon"])):!e.menu.hiddenIcon&&(null==(l=e.menu.icon)?void 0:l.startsWith("svg-"))?(i(),g(x,{key:2,icon:e.menu.icon.split(/^svg-/)[1],class:"el-icon"},null,8,["icon"])):!e.menu.hiddenIcon&&(null==(t=e.menu.icon)?void 0:t.startsWith("on-"))?(i(),g(j,{key:3,icon:e.menu.icon.split(/^on-/)[1],class:"w-6 h-[16px] !mr-[5px]"},null,8,["icon"])):e.menu.hiddenIcon?A("",!0):(i(),g(R,{key:4,icon:e.menu.icon,class:"w-6 h-[16px] !mr-[5px]"},null,8,["icon"])):(i(),g(v,{key:0},{default:M((()=>[k(p(L))])),_:1})),!e.menu.parentPath&&p(a)&&e.menu.hiddenIcon?(i(),d("div",le,h(s(e.menu.title)),1)):A("",!0)]})),_:1},8,["index","route"]))}}}),se=y({name:"AsideMenu"}),oe=Object.assign(se,{setup(e){const t=n(),o=a(),u=s(),c=x((()=>u.meta.activeMenu||u.path)),{collapsed:r,backgroundColor:m,textColor:v,activeTextColor:h,leftMenus:A,isLeftMenu:y}=l(t),I=x((()=>{const e={};return m.value&&(e.backgroundColor=p(m)),v.value&&(e.textColor=p(v)),h.value&&(e.activeTextColor=p(h)),e}));return j(y,(e=>{e&&t.setLeftMenus(o.menus)}),{immediate:!0}),(e,n)=>{const l=S;return i(),g(l,R({router:"","unique-opened":"","default-active":p(c),collapse:p(r)},p(I)),{default:M((()=>[(i(!0),d(f,null,b(p(A),((e,n)=>(i(),g(p(ae),{key:n,menu:e},null,8,["menu"])))),128))])),_:1},16,["default-active","collapse"])}}}),ue={class:"pd-10 text-center"},ce=y({name:"AsideFooter"}),ie=Object.assign(ce,{setup(e){const l=n().systemAuthor;return(e,n)=>(i(),d("div",ue,"©"+h((new Date).getFullYear())+" "+h(p(l)),1))}}),de=y({name:"AppAside"}),re=e(Object.assign(de,{setup(e){const t=n(),{collapsed:a,leftMenus:s,isLeftMenu:o,isMixedMenu:u,backgroundColor:c,textColor:r}=l(t);return(e,n)=>p(o)||p(u)&&p(s).length?(i(),d("div",{key:0,class:m(["aside-wrapper",{"is-collapsed":p(a),"mix-aside-wrapper":p(u)}]),style:O({backgroundColor:p(c)})},[p(o)?(i(),g(p($),{key:0,class:"aside-header font-bold",style:O({color:p(r)})},null,8,["style"])):A("",!0),k(p(oe),{class:"aside-menu hidden-x scroll-hidden"}),p(a)?A("",!0):(i(),g(p(ie),{key:1,class:"aside-footer",style:O({color:p(r)})},null,8,["style"]))],6)):A("",!0)}}),[["__scopeId","data-v-595ac817"]]),me=y({name:"HeaderMenu"}),pe=Object.assign(me,{setup(e){const t=n(),o=a(),u=s(),{collapsed:c,isTopMenu:r,isMixedMenu:m,topMenuBackgroundColor:v,topMenuTextColor:h,topMenuActiveTextColor:A}=l(t),y=x((()=>u.meta.activeMenu||u.path));let I=[];const k=x((()=>{const e={};return v.value&&(e.backgroundColor=p(v)),h.value&&(e.textColor=p(h)),A.value&&(e.activeTextColor=p(A)),e}));return j((()=>u.path),(e=>{if(r.value)I=o.menus;else if(m.value){const e=(()=>{const e=[],n=[],l=u.matched;return p(menuRoutes).forEach((t=>{const{children:a,...s}=t;(null==a?void 0:a.length)&&l.some((e=>t.path===e.path))&&n.push(...a),e.push(s)})),t.setLeftMenus(n),e})();I=e}}),{immediate:!0}),(e,n)=>{const l=S;return i(),g(l,R({mode:"horizontal",ellipsis:!1,router:"","unique-opened":"","default-active":p(y),collapse:p(c)},p(k)),{default:M((()=>[(i(!0),d(f,null,b(p(I),((e,n)=>(i(),g(p(ae),{key:n,menu:e,teleported:!1},null,8,["menu"])))),128))])),_:1},16,["default-active","collapse"])}}}),fe={class:"left-logo flex items-center"},ve=["src"],he=y({name:"HeaderLeft"}),Ae=e(Object.assign(he,{setup(e){const l=n();return(e,n)=>(i(),d("div",fe,[r("img",{class:"logo mr-10",src:p(l).systemLogo},null,8,ve),v(" "+h(p(l).systemName),1)]))}}),[["__scopeId","data-v-4d1d0cf0"]]),ye=y({name:"Fullscreen"}),xe=Object.assign(ye,{setup(e){const n=()=>!!(document.fullScreenElement||document.mozFullScreenElement||document.webkitFullscreenElement),l=F(n()),t=()=>{if(l.value)document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen();else{const e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()}l.value=!n()};return(e,n)=>{const a=I("IconifyIconOffline"),s=E;return i(),d("div",{class:"mr-2 flex items-center cursor-pointer",onClick:t},[k(s,{effect:"light",content:l.value?"关闭全屏":"开启全屏"},{default:M((()=>[k(a,{class:"w-4 h-4",icon:l.value?"fullscreen-exit":"fullscreen"},null,8,["icon"])])),_:1},8,["content"])])}}}),Ie={class:"h-full"},ge={key:0,class:"px-5 h-full flex items-center"},Me={class:"header-content h-full flex-1 flex space-between items-center"},ke={class:"header-tool flex stretch"},be=["src"],we=y({name:"MainHeader"}),Ce=e(Object.assign(we,{setup(e){o();const t=n(),a=u(),s=x((()=>a.user)),{collapsedIconShow:c,topMenuBackgroundColor:f,isMixedMenu:y,isLeftMenu:I}=l(t),b=F(t.collapsed),C=()=>{b.value=!b.value,t.setCollapsed(b.value)},_=async e=>{if(0==+e)await a.logout()};return(e,n)=>{const l=w,t=T,a=N,o=q,u=P;return i(),d("div",{class:"main-header pr-5",style:O({backgroundColor:p(f)})},[r("div",Ie,[p(I)?(i(),d("div",ge,[p(c)?(i(),g(t,{key:0,type:"primary",onClick:C,class:"!px-2"},{default:M((()=>[b.value?(i(),g(l,{key:0},{default:M((()=>[k(p(J))])),_:1})):(i(),g(l,{key:1},{default:M((()=>[k(p(Q))])),_:1}))])),_:1})):A("",!0)])):(i(),g(p(Ae),{key:1,class:"h-full flex items-center justify-center header-left"}))]),r("div",Me,[r("div",{class:m(["header-menu h-full flex-1 flex items-center px-5",{"pl-0":p(y)}])},[p(I)?A("",!0):(i(),g(p(pe),{key:0}))],2),r("div",ke,[k(p(xe)),k(u,{placement:"bottom-end",onCommand:_},{dropdown:M((()=>[k(o,{class:"text-center"},{default:M((()=>[k(a,{command:"0"},{default:M((()=>[v(" 退出登录 ")])),_:1})])),_:1})])),default:M((()=>[k(t,{link:"",type:"primary"},{default:M((()=>{var e;return[r("img",{class:"user-img mr-10",src:p("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEQAAABECAMAAAAPzWOAAAAAVFBMVEUANIUAAAAAM4IANIIAMoIAM4IAM4IAM4IAMoMANIIAMoEANIIANIIAM4QANIIANIIAM4IAM4IAJnUANIIAM4MAM4IAM4IANIMAM4MAM4IAM4IANIIYG0LfAAAAG3RSTlMsAPCpVrdRljyJI+JdOYF2zaAG1Ufer3Bpj9A7lqLoAAACPElEQVRYw6TQWW7jQAwAUZpSr9o3O0Dd/57jmUwcxWg6Evx+GyiyKRdTbvtq3BR0G6u+zReTEZn91PCkmfx8IiJBAXVhqNcoEtd6CE4BDXIwEh2wJC9PfFoAFw9EsgOdvBT5ScHlXyJzDxo6MXVBoZ9fRfII1ygvxSuM2Y54pWnlV22DeityA9fJAZ2DWzmSIMlBCVIpkmCQw4Z9RXZ/+ZATPuD2HPH2HvYu/mckK0lOSmjeR+YRJ6c5xnkX6Wk6Oa1r6L8jGVopqqtNdatqKWohPyKOqxRd+WS/u69IRGNx3YWHpfjdqMT/EUcwDvfNOHzAfUYE7Ywf77XFZRX5FwlMrw7y+iwT4W9kVryUNPzQSIlH53vEs0gRT6Rowd8jE+mdSGK6Rxr8OxFPc5GMyjsRUbK0uPcijlZ6gjliz1w40EvFYI7YMxceqGSkNl/3zFk1o2ysYljYWcSwsokSzWflQc1RERUQ07o89ljFBALywp9azHCFQRgGwoM6K9TJBhNb7/3fU/8JvdoQDr8HKDaml7ssO0725dUBqK7DfP70EXQdKqwNF5Z+sZsB33azzSU0KXOz2VptnxNuSbnV9vwAC7oUfoAsBRsMNpICFqUEg0SiRPKYYZIreWShjjCJlVDzyAgwCdXIoOHlPeSHSGPUccg1RmmgOw+JeJO18BT2shZscqYVButEJoft1jh0GW/slm78dAuqm2Hdlj8QEPSooocmPb7pQVKPtHq41mO+vnDQVx9PLmH0ddABiAdwuve8L+MAAAAASUVORK5CYII=")},null,8,be),v(" "+h(null==(e=s.value)?void 0:e.userName)+" ",1),k(l,null,{default:M((()=>[k(p(G))])),_:1})]})),_:1})])),_:1})])])],4)}}}),[["__scopeId","data-v-305729d3"]]),_e={class:"tagview-wrapper"},je=y({name:"MainTagview"}),Re=e(Object.assign(je,{setup(e){const t=n(),u=a(),c=o(),r=s(),m=F(""),{tabs:v,activeTab:h}=l(t),A=({paneName:e})=>{const n=v.value.find((n=>n.path===e));c.push(n.path)},y=e=>{const n=v.value.find((n=>n.path===e));t.removeTab(n.path);const l=h.value.path;if(l)c.push(l);else{const e=c.getRoutes(),{redirect:n}=e.find((e=>"/"===e.path));let l;if(n){const t=e.find((e=>e.path===n)).meta.breadcrumb;l=t[t.length-1]}else l=u.menu[0];const{path:a}=l;t.addTab(l),c.replace(a)}};return j((()=>r.path),(e=>{m.value=e,U((()=>{(()=>{if(!(v.value.length&&v.value.find((e=>e.path===m.value))||r.meta.hidden||r.meta.fullscreen)){const e={path:r.path,title:r.meta.title};t.addTab(e)}})()}))}),{immediate:!0}),(e,n)=>{const l=W,t=z;return i(),d("div",_e,[k(t,{modelValue:p(m),"onUpdate:modelValue":n[0]||(n[0]=e=>V(m)?m.value=e:null),type:"card",onTabClick:A,onTabRemove:y},{default:M((()=>[(i(!0),d(f,null,b(p(v),(e=>(i(),g(l,{key:e.path,label:e.title,name:e.path,closable:""},null,8,["label","name"])))),128))])),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-f5b4cf84"]]),Se={class:"pd-20 flex-1 bg-grey overflow-y-auto"},Oe=y({name:"MainContent"}),Fe=e(Object.assign(Oe,{setup(e){const{caches:n,collectCaches:l}=c();return l(),(e,l)=>{const t=I("router-view");return i(),g(t,null,{default:M((({Component:l})=>[r("div",Se,[k(B,{name:"fade",mode:"out-in"},{default:M((()=>[(i(),g(Y,{include:p(n)},[(i(),g(H(l),{key:e.$route.fullPath}))],1032,["include"]))])),_:2},1024)])])),_:1})}}}),[["__scopeId","data-v-b9aa1b01"]]),Ee={class:"main-wrapper h-full flex flex-col"},Te={class:"main-container flex-1 flex flex-col h-0"},Ne=y({name:"AppMain"}),qe=e(Object.assign(Ne,{setup(e){const t=s(),a=n(),{tagviewShow:o,isMixedMenu:u}=l(a),c=x((()=>t.meta.fullscreen));return(e,n)=>(i(),d("div",Ee,[p(c)?A("",!0):(i(),d("div",{key:0,class:m({"mix-main-header":p(u)})},[k(p(Ce))],2)),r("div",Te,[!p(c)&&p(o)?(i(),g(p(Re),{key:0,class:"pt-2"})):A("",!0),k(p(Fe))])]))}}),[["__scopeId","data-v-dc878b8c"]]),Pe={class:"admin-layout height-full"},Ue=y({name:"AdminLayout"}),Ve=e(Object.assign(Ue,{setup(e){const l=n(),t=x((()=>l.isTopMenu));return(e,n)=>(i(),d("div",Pe,[e.$route.meta.fullscreen||p(t)?A("",!0):(i(),g(p(re),{key:0})),k(p(qe),{class:"w-0"})]))}}),[["__scopeId","data-v-b2c6278a"]]);export{Ve as default};
